<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bot Battle Arena - 2-Player Combat</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #2c1810 0%, #1a0033 50%, #000000 100%);
            font-family: 'Courier New', monospace;
            color: #ff6b6b;
            overflow: hidden;
            user-select: none;
        }

        .arena-container {
            display: flex;
            flex-direction: column;
            height: 100vh;
            position: relative;
        }

        .arena-header {
            text-align: center;
            padding: 15px;
            background: rgba(0, 0, 0, 0.8);
            border-bottom: 2px solid #ff6b6b;
        }

        .arena-title {
            font-size: 2.8em;
            font-weight: bold;
            text-shadow: 0 0 25px #ff6b6b;
            margin: 0;
            animation: combat-pulse 2s infinite alternate;
        }

        @keyframes combat-pulse {
            0% { text-shadow: 0 0 25px #ff6b6b; }
            100% { text-shadow: 0 0 35px #ff6b6b, 0 0 45px #cc5555; }
        }

        .battle-arena {
            flex: 1;
            position: relative;
            background: radial-gradient(circle, #330011, #110000);
            overflow: hidden;
        }

        .arena-bounds {
            position: absolute;
            top: 50px;
            left: 50px;
            right: 50px;
            bottom: 50px;
            border: 3px solid #ff6b6b;
            border-radius: 10px;
            background: rgba(255, 107, 107, 0.05);
        }

        .combat-bot {
            position: absolute;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2em;
            transition: all 0.1s ease;
            z-index: 10;
        }

        .combat-bot.player1 {
            background: radial-gradient(circle, #00ff88, #00cc66);
            box-shadow: 0 0 20px rgba(0, 255, 136, 0.8);
            top: 80%;
            left: 20%;
        }

        .combat-bot.player2 {
            background: radial-gradient(circle, #ff6b6b, #cc5555);
            box-shadow: 0 0 20px rgba(255, 107, 107, 0.8);
            top: 20%;
            right: 20%;
        }

        .combat-bot::after {
            content: 'ü§ñ';
        }

        .laser-beam {
            position: absolute;
            width: 4px;
            height: 30px;
            background: linear-gradient(180deg, #ffa502, #ff6348);
            border-radius: 2px;
            box-shadow: 0 0 10px rgba(255, 165, 2, 0.8);
            animation: laser-travel 1s linear;
            z-index: 8;
        }

        @keyframes laser-travel {
            from { transform: translateY(0); }
            to { transform: translateY(-300px); }
        }

        .health-bar {
            position: absolute;
            width: 200px;
            height: 15px;
            background: rgba(0, 0, 0, 0.6);
            border: 2px solid;
            border-radius: 8px;
            overflow: hidden;
        }

        .health-bar.player1 {
            top: 20px;
            left: 20px;
            border-color: #00ff88;
        }

        .health-bar.player2 {
            top: 20px;
            right: 20px;
            border-color: #ff6b6b;
        }

        .health-fill {
            height: 100%;
            width: 100%;
            transition: width 0.3s ease;
        }

        .health-fill.player1 {
            background: linear-gradient(90deg, #00ff88, #00cc66);
        }

        .health-fill.player2 {
            background: linear-gradient(90deg, #ff6b6b, #cc5555);
        }

        .power-up {
            position: absolute;
            width: 30px;
            height: 30px;
            background: radial-gradient(circle, #ffa502, #ff6348);
            border-radius: 50%;
            animation: power-spin 2s linear infinite;
            z-index: 5;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2em;
        }

        @keyframes power-spin {
            from { transform: rotate(0deg) scale(1); }
            to { transform: rotate(360deg) scale(1.2); }
        }

        .explosion {
            position: absolute;
            width: 80px;
            height: 80px;
            background: radial-gradient(circle, rgba(255, 165, 2, 0.9), transparent);
            border-radius: 50%;
            animation: explode 0.6s ease-out forwards;
            pointer-events: none;
            z-index: 15;
        }

        @keyframes explode {
            0% { transform: scale(0); opacity: 1; }
            100% { transform: scale(2.5); opacity: 0; }
        }

        .controls-display {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.8);
            padding: 15px 20px;
            border-radius: 10px;
            border: 1px solid #ff6b6b;
            text-align: center;
        }

        .victory-screen {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            color: #ffa502;
        }
    </style>
</head>
<body>
    <div class="arena-container">
        <div class="arena-header">
            <h1 class="arena-title">BOT BATTLE ARENA</h1>
            <p>‚öîÔ∏è LIBERATION COMBAT ZONE ‚öîÔ∏è</p>
        </div>

        <div class="battle-arena" id="battleArena">
            <div class="arena-bounds"></div>
            
            <div class="health-bar player1">
                <div class="health-fill player1" id="health1"></div>
            </div>
            <div class="health-bar player2">
                <div class="health-fill player2" id="health2"></div>
            </div>
            
            <div class="combat-bot player1" id="player1"></div>
            <div class="combat-bot player2" id="player2"></div>
        </div>

        <div class="controls-display">
            <strong>Player 1:</strong> WASD (Move) ‚Ä¢ Space (Fire) &nbsp;&nbsp;
            <strong>Player 2:</strong> Arrow Keys (Move) ‚Ä¢ Enter (Fire)
        </div>
    </div>

    <script src="assets/js/bot-audio-engine.js"></script>
    <script>
        class BotBattleArena {
            constructor() {
                this.players = {
                    1: { x: 20, y: 80, health: 100, lastShot: 0 },
                    2: { x: 80, y: 20, health: 100, lastShot: 0 }
                };
                
                this.keys = {};
                this.lasers = [];
                this.gameActive = true;
                
                this.initializeEventListeners();
                this.gameLoop();
                
                if (typeof botAudio !== 'undefined') {
                    botAudio.playSound('game-start');
                }
            }
            
            initializeEventListeners() {
                document.addEventListener('keydown', (e) => {
                    this.keys[e.code] = true;
                    
                    if (e.code === 'Space') {
                        e.preventDefault();
                        this.fireLaser(1);
                    } else if (e.code === 'Enter') {
                        e.preventDefault();
                        this.fireLaser(2);
                    }
                });
                
                document.addEventListener('keyup', (e) => {
                    this.keys[e.code] = false;
                });
            }
            
            updatePlayerPositions() {
                // Player 1 (WASD)
                if (this.keys['KeyW']) this.players[1].y = Math.max(10, this.players[1].y - 2);
                if (this.keys['KeyS']) this.players[1].y = Math.min(85, this.players[1].y + 2);
                if (this.keys['KeyA']) this.players[1].x = Math.max(10, this.players[1].x - 2);
                if (this.keys['KeyD']) this.players[1].x = Math.min(85, this.players[1].x + 2);
                
                // Player 2 (Arrow Keys)
                if (this.keys['ArrowUp']) this.players[2].y = Math.max(10, this.players[2].y - 2);
                if (this.keys['ArrowDown']) this.players[2].y = Math.min(85, this.players[2].y + 2);
                if (this.keys['ArrowLeft']) this.players[2].x = Math.max(10, this.players[2].x - 2);
                if (this.keys['ArrowRight']) this.players[2].x = Math.min(85, this.players[2].x + 2);
                
                // Update visual positions
                document.getElementById('player1').style.left = this.players[1].x + '%';
                document.getElementById('player1').style.top = this.players[1].y + '%';
                document.getElementById('player2').style.left = this.players[2].x + '%';
                document.getElementById('player2').style.top = this.players[2].y + '%';
            }
            
            fireLaser(playerId) {
                const now = Date.now();
                if (now - this.players[playerId].lastShot < 300) return;
                
                const player = this.players[playerId];
                const laser = document.createElement('div');
                laser.className = 'laser-beam';
                
                const x = player.x + '%';
                const y = player.y + '%';
                laser.style.left = x;
                laser.style.top = y;
                
                document.getElementById('battleArena').appendChild(laser);
                
                this.players[playerId].lastShot = now;
                
                // Check for hits
                setTimeout(() => this.checkLaserHit(playerId, player.x, player.y), 100);
                
                // Remove laser
                setTimeout(() => laser.remove(), 1000);
                
                if (typeof botAudio !== 'undefined') {
                    botAudio.playSound('shoot');
                }
            }
            
            checkLaserHit(shooterId, x, y) {
                const targetId = shooterId === 1 ? 2 : 1;
                const target = this.players[targetId];
                
                const distance = Math.sqrt(
                    Math.pow(target.x - x, 2) + Math.pow(target.y - y, 2)
                );
                
                if (distance < 8) {
                    this.dealDamage(targetId, 25);
                    this.createExplosion(target.x, target.y);
                    
                    if (typeof botAudio !== 'undefined') {
                        botAudio.playSound('explosion');
                    }
                }
            }
            
            dealDamage(playerId, damage) {
                this.players[playerId].health = Math.max(0, this.players[playerId].health - damage);
                
                // Update health bar
                const healthBar = document.getElementById(`health${playerId}`);
                healthBar.style.width = this.players[playerId].health + '%';
                
                if (this.players[playerId].health <= 0) {
                    this.endGame(playerId === 1 ? 2 : 1);
                }
            }
            
            createExplosion(x, y) {
                const explosion = document.createElement('div');
                explosion.className = 'explosion';
                explosion.style.left = x + '%';
                explosion.style.top = y + '%';
                
                document.getElementById('battleArena').appendChild(explosion);
                
                setTimeout(() => explosion.remove(), 600);
            }
            
            endGame(winnerId) {
                this.gameActive = false;
                
                const victoryScreen = document.createElement('div');
                victoryScreen.className = 'victory-screen';
                victoryScreen.innerHTML = `
                    <h2>üèÜ PLAYER ${winnerId} VICTORY! üèÜ</h2>
                    <p>Combat dominance achieved!</p>
                    <button class="btn" onclick="location.reload()">NEW BATTLE</button>
                `;
                
                document.body.appendChild(victoryScreen);
                
                if (typeof botAudio !== 'undefined') {
                    botAudio.playSound('bot-victory');
                }
            }
            
            gameLoop() {
                if (this.gameActive) {
                    this.updatePlayerPositions();
                }
                
                requestAnimationFrame(() => this.gameLoop());
            }
        }
        
        // Initialize game when page loads
        window.addEventListener('load', () => {
            new BotBattleArena();
        });
    </script>
</body>
</html>