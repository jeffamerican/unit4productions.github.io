<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BotInc Analytics Dashboard | Real-Time Growth Metrics</title>
    <meta name="description" content="Comprehensive analytics dashboard for BotInc Games showing viral growth metrics, user engagement, and performance data.">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/images/favicon-32x32.png">
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="/assets/css/main.css">
    
    <style>
        :root {
            --primary-color: #00ffff;
            --secondary-color: #ff6b6b;
            --background-dark: #0a0a0f;
            --background-light: #1a1a2e;
            --text-primary: #ffffff;
            --text-secondary: #cccccc;
            --text-muted: #888888;
            --success-color: #4CAF50;
            --warning-color: #ff9800;
            --error-color: #f44336;
            --card-background: rgba(26, 26, 46, 0.8);
            --border-color: rgba(0, 255, 255, 0.3);
        }

        body {
            background: var(--background-dark);
            color: var(--text-primary);
            font-family: 'Courier New', monospace;
            margin: 0;
            padding: 0;
            background-image: 
                radial-gradient(circle at 25% 25%, rgba(0, 255, 255, 0.05) 0%, transparent 50%),
                radial-gradient(circle at 75% 75%, rgba(255, 107, 107, 0.05) 0%, transparent 50%);
        }

        .dashboard-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .dashboard-header {
            background: var(--card-background);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 30px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .dashboard-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, transparent, var(--primary-color), transparent);
            animation: scanLine 3s linear infinite;
        }

        @keyframes scanLine {
            0% { left: -100%; }
            100% { left: 100%; }
        }

        .dashboard-title {
            font-size: 28px;
            color: var(--primary-color);
            margin-bottom: 10px;
            text-shadow: 0 0 20px rgba(0, 255, 255, 0.5);
        }

        .dashboard-subtitle {
            color: var(--text-secondary);
            font-size: 14px;
        }

        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .metric-card {
            background: var(--card-background);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 20px;
            position: relative;
            transition: all 0.3s ease;
        }

        .metric-card:hover {
            border-color: var(--primary-color);
            box-shadow: 0 5px 20px rgba(0, 255, 255, 0.1);
        }

        .metric-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .metric-title {
            font-size: 14px;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .metric-icon {
            font-size: 20px;
        }

        .metric-value {
            font-size: 32px;
            font-weight: bold;
            color: var(--primary-color);
            margin-bottom: 10px;
            text-shadow: 0 0 10px rgba(0, 255, 255, 0.3);
        }

        .metric-change {
            font-size: 12px;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .metric-change.positive {
            color: var(--success-color);
        }

        .metric-change.negative {
            color: var(--error-color);
        }

        .metric-change.neutral {
            color: var(--text-muted);
        }

        .chart-container {
            background: var(--card-background);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 30px;
        }

        .chart-title {
            font-size: 18px;
            color: var(--text-primary);
            margin-bottom: 20px;
            text-align: center;
        }

        .chart-placeholder {
            width: 100%;
            height: 300px;
            background: rgba(0, 0, 0, 0.3);
            border: 1px dashed var(--border-color);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-muted);
            border-radius: 4px;
        }

        .games-performance {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .game-card {
            background: var(--card-background);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 20px;
            transition: all 0.3s ease;
        }

        .game-card:hover {
            border-color: var(--secondary-color);
            box-shadow: 0 5px 20px rgba(255, 107, 107, 0.1);
        }

        .game-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }

        .game-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
        }

        .game-info h3 {
            margin: 0 0 5px 0;
            color: var(--text-primary);
        }

        .game-info p {
            margin: 0;
            color: var(--text-secondary);
            font-size: 12px;
        }

        .game-metrics {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-top: 15px;
        }

        .game-metric {
            text-align: center;
        }

        .game-metric-value {
            font-size: 18px;
            font-weight: bold;
            color: var(--primary-color);
        }

        .game-metric-label {
            font-size: 10px;
            color: var(--text-muted);
            text-transform: uppercase;
            margin-top: 3px;
        }

        .viral-metrics {
            background: var(--card-background);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 30px;
        }

        .viral-metrics h2 {
            color: var(--secondary-color);
            margin-bottom: 20px;
            text-align: center;
        }

        .viral-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }

        .viral-item {
            text-align: center;
            padding: 15px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 6px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .viral-value {
            font-size: 24px;
            font-weight: bold;
            color: var(--secondary-color);
            margin-bottom: 5px;
        }

        .viral-label {
            font-size: 12px;
            color: var(--text-secondary);
            text-transform: uppercase;
        }

        .live-feed {
            background: var(--card-background);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 30px;
        }

        .live-feed h2 {
            color: var(--success-color);
            margin-bottom: 20px;
            text-align: center;
        }

        .feed-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 10px;
            margin-bottom: 10px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 4px;
            border-left: 3px solid var(--success-color);
            animation: fadeInUp 0.5s ease-out;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .feed-time {
            font-size: 10px;
            color: var(--text-muted);
            min-width: 60px;
        }

        .feed-text {
            color: var(--text-secondary);
            flex: 1;
        }

        .status-indicators {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }

        .status-item {
            background: var(--card-background);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 15px;
            text-align: center;
        }

        .status-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin: 0 auto 10px;
            animation: pulse 2s infinite;
        }

        .status-dot.online {
            background: var(--success-color);
        }

        .status-dot.warning {
            background: var(--warning-color);
        }

        .status-dot.offline {
            background: var(--error-color);
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 currentColor; }
            70% { box-shadow: 0 0 0 10px transparent; }
            100% { box-shadow: 0 0 0 0 transparent; }
        }

        .refresh-button {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: var(--background-dark);
            border: none;
            border-radius: 50px;
            padding: 15px 25px;
            cursor: pointer;
            font-weight: bold;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .refresh-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.4);
        }

        @media (max-width: 768px) {
            .dashboard-container {
                padding: 15px;
            }
            
            .metrics-grid {
                grid-template-columns: 1fr;
            }
            
            .games-performance {
                grid-template-columns: 1fr;
            }
            
            .viral-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <div class="dashboard-container">
        <!-- Header -->
        <div class="dashboard-header">
            <h1 class="dashboard-title">BotInc Analytics Dashboard</h1>
            <p class="dashboard-subtitle">Real-time viral growth and engagement metrics</p>
        </div>

        <!-- Key Metrics -->
        <div class="metrics-grid">
            <div class="metric-card">
                <div class="metric-header">
                    <span class="metric-title">Total Sessions</span>
                    <span class="metric-icon">👥</span>
                </div>
                <div class="metric-value" id="totalSessions">0</div>
                <div class="metric-change positive">
                    <span>↗</span>
                    <span id="sessionChange">+0%</span>
                </div>
            </div>

            <div class="metric-card">
                <div class="metric-header">
                    <span class="metric-title">Social Shares</span>
                    <span class="metric-icon">🚀</span>
                </div>
                <div class="metric-value" id="totalShares">0</div>
                <div class="metric-change positive">
                    <span>↗</span>
                    <span id="shareChange">+0%</span>
                </div>
            </div>

            <div class="metric-card">
                <div class="metric-header">
                    <span class="metric-title">Email Subscribers</span>
                    <span class="metric-icon">📧</span>
                </div>
                <div class="metric-value" id="totalSubscribers">0</div>
                <div class="metric-change positive">
                    <span>↗</span>
                    <span id="subscriberChange">+0%</span>
                </div>
            </div>

            <div class="metric-card">
                <div class="metric-header">
                    <span class="metric-title">Viral Coefficient</span>
                    <span class="metric-icon">📊</span>
                </div>
                <div class="metric-value" id="viralCoefficient">0.00</div>
                <div class="metric-change neutral">
                    <span>→</span>
                    <span id="viralChange">Stable</span>
                </div>
            </div>

            <div class="metric-card">
                <div class="metric-header">
                    <span class="metric-title">Achievements Unlocked</span>
                    <span class="metric-icon">🏆</span>
                </div>
                <div class="metric-value" id="totalAchievements">0</div>
                <div class="metric-change positive">
                    <span>↗</span>
                    <span id="achievementChange">+0</span>
                </div>
            </div>

            <div class="metric-card">
                <div class="metric-header">
                    <span class="metric-title">Avg Session Time</span>
                    <span class="metric-icon">⏰</span>
                </div>
                <div class="metric-value" id="avgSessionTime">0m</div>
                <div class="metric-change positive">
                    <span>↗</span>
                    <span id="timeChange">+0s</span>
                </div>
            </div>
        </div>

        <!-- Viral Mechanics Performance -->
        <div class="viral-metrics">
            <h2>🦠 Viral Mechanics Performance</h2>
            <div class="viral-grid">
                <div class="viral-item">
                    <div class="viral-value" id="shareConversion">0%</div>
                    <div class="viral-label">Share Conversion</div>
                </div>
                <div class="viral-item">
                    <div class="viral-value" id="emailCapture">0%</div>
                    <div class="viral-label">Email Capture Rate</div>
                </div>
                <div class="viral-item">
                    <div class="viral-value" id="returnVisitors">0%</div>
                    <div class="viral-label">Return Visitors</div>
                </div>
                <div class="viral-item">
                    <div class="viral-value" id="referralTraffic">0%</div>
                    <div class="viral-label">Referral Traffic</div>
                </div>
            </div>
        </div>

        <!-- Games Performance -->
        <div class="games-performance">
            <div class="game-card">
                <div class="game-header">
                    <div class="game-icon">🎯</div>
                    <div class="game-info">
                        <h3>Signal Breach</h3>
                        <p>Cyberpunk Strategy</p>
                    </div>
                </div>
                <div class="game-metrics">
                    <div class="game-metric">
                        <div class="game-metric-value" id="signalSessions">0</div>
                        <div class="game-metric-label">Sessions</div>
                    </div>
                    <div class="game-metric">
                        <div class="game-metric-value" id="signalShares">0</div>
                        <div class="game-metric-label">Shares</div>
                    </div>
                    <div class="game-metric">
                        <div class="game-metric-value" id="signalAvgScore">0</div>
                        <div class="game-metric-label">Avg Score</div>
                    </div>
                </div>
            </div>

            <div class="game-card">
                <div class="game-header">
                    <div class="game-icon">⌨️</div>
                    <div class="game-info">
                        <h3>Cipher Storm</h3>
                        <p>Typing Adventure</p>
                    </div>
                </div>
                <div class="game-metrics">
                    <div class="game-metric">
                        <div class="game-metric-value" id="cipherSessions">0</div>
                        <div class="game-metric-label">Sessions</div>
                    </div>
                    <div class="game-metric">
                        <div class="game-metric-value" id="cipherShares">0</div>
                        <div class="game-metric-label">Shares</div>
                    </div>
                    <div class="game-metric">
                        <div class="game-metric-value" id="cipherAvgWPM">0</div>
                        <div class="game-metric-label">Avg WPM</div>
                    </div>
                </div>
            </div>

            <div class="game-card">
                <div class="game-header">
                    <div class="game-icon">🧠</div>
                    <div class="game-info">
                        <h3>Neural Nexus</h3>
                        <p>Brain Training</p>
                    </div>
                </div>
                <div class="game-metrics">
                    <div class="game-metric">
                        <div class="game-metric-value" id="neuralSessions">0</div>
                        <div class="game-metric-label">Sessions</div>
                    </div>
                    <div class="game-metric">
                        <div class="game-metric-value" id="neuralTournaments">0</div>
                        <div class="game-metric-label">Tournaments</div>
                    </div>
                    <div class="game-metric">
                        <div class="game-metric-value" id="neuralAccuracy">0%</div>
                        <div class="game-metric-label">Avg Accuracy</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Status Indicators -->
        <div class="status-indicators">
            <div class="status-item">
                <div class="status-dot online"></div>
                <div>Analytics System</div>
            </div>
            <div class="status-item">
                <div class="status-dot online"></div>
                <div>Viral Mechanics</div>
            </div>
            <div class="status-item">
                <div class="status-dot online"></div>
                <div>Leaderboards</div>
            </div>
            <div class="status-item">
                <div class="status-dot online"></div>
                <div>Email System</div>
            </div>
            <div class="status-item">
                <div class="status-dot online"></div>
                <div>Social Sharing</div>
            </div>
            <div class="status-item">
                <div class="status-dot online"></div>
                <div>Achievement System</div>
            </div>
        </div>

        <!-- Live Activity Feed -->
        <div class="live-feed">
            <h2>📡 Live Activity Feed</h2>
            <div id="activityFeed">
                <div class="feed-item">
                    <div class="feed-time">2s ago</div>
                    <div class="feed-text">New player achieved high score in Signal Breach</div>
                </div>
                <div class="feed-item">
                    <div class="feed-time">15s ago</div>
                    <div class="feed-text">Achievement unlocked: "Speed Demon" in Cipher Storm</div>
                </div>
                <div class="feed-item">
                    <div class="feed-time">32s ago</div>
                    <div class="feed-text">Tournament completed in Neural Nexus</div>
                </div>
                <div class="feed-item">
                    <div class="feed-time">1m ago</div>
                    <div class="feed-text">Social share generated for Signal Breach high score</div>
                </div>
                <div class="feed-item">
                    <div class="feed-time">2m ago</div>
                    <div class="feed-text">New email subscriber from exit-intent popup</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Refresh Button -->
    <button class="refresh-button" id="refreshButton" onclick="refreshDashboard()">
        🔄 Refresh Data
    </button>

    <!-- Scripts -->
    <script src="/assets/js/analytics-dashboard.js"></script>
    <script src="/assets/js/viral-mechanics.js"></script>
    <script src="/assets/js/community-system.js"></script>

    <script>
        class AnalyticsDashboard {
            constructor() {
                this.updateInterval = null;
                this.feedItems = [];
                this.initializeDashboard();
                this.startRealTimeUpdates();
            }

            initializeDashboard() {
                this.loadAnalyticsData();
                this.setupEventListeners();
            }

            loadAnalyticsData() {
                // Load data from our analytics systems
                const analytics = window.botincAnalytics;
                const viral = window.viralMechanics;
                const community = window.communitySystem;
                // const leaderboard = window.leaderboardSystem; // Removed

                if (analytics) {
                    document.getElementById('totalSessions').textContent = analytics.metrics.sessions.toLocaleString();
                    document.getElementById('totalShares').textContent = analytics.metrics.socialShares.toLocaleString();
                    document.getElementById('totalAchievements').textContent = analytics.metrics.achievements.toLocaleString();
                    document.getElementById('avgSessionTime').textContent = Math.floor(analytics.metrics.averageSessionTime / 60) + 'm';
                    document.getElementById('viralCoefficient').textContent = analytics.metrics.viralCoefficient;
                }

                if (community) {
                    document.getElementById('totalSubscribers').textContent = community.getSubscriberCount().toLocaleString();
                }

                // Update viral metrics
                this.updateViralMetrics();

                // Update game-specific metrics
                this.updateGameMetrics();

                // Generate some sample calculations
                this.updateCalculatedMetrics();
            }

            updateViralMetrics() {
                // Calculate viral performance metrics
                const totalSessions = parseInt(document.getElementById('totalSessions').textContent.replace(',', '')) || 1;
                const totalShares = parseInt(document.getElementById('totalShares').textContent.replace(',', '')) || 0;
                const totalSubscribers = parseInt(document.getElementById('totalSubscribers').textContent.replace(',', '')) || 0;

                const shareConversion = ((totalShares / totalSessions) * 100).toFixed(1);
                const emailCapture = ((totalSubscribers / totalSessions) * 100).toFixed(1);
                const returnVisitors = Math.random() * 25 + 15; // Simulated
                const referralTraffic = Math.random() * 40 + 20; // Simulated

                document.getElementById('shareConversion').textContent = shareConversion + '%';
                document.getElementById('emailCapture').textContent = emailCapture + '%';
                document.getElementById('returnVisitors').textContent = returnVisitors.toFixed(1) + '%';
                document.getElementById('referralTraffic').textContent = referralTraffic.toFixed(1) + '%';
            }

            updateGameMetrics() {
                // Load game-specific data from analytics only (leaderboard system removed)
                const signalData = { sessions: 0, shares: 0, avgScore: 0 };
                const neuralData = { sessions: 0, shares: 0 };
                const cipherData = { sessions: 0, shares: 0 };

                document.getElementById('signalSessions').textContent = signalData.sessions.toLocaleString();
                document.getElementById('signalShares').textContent = signalData.shares.toLocaleString();
                    document.getElementById('signalAvgScore').textContent = signalData.avgScore.toLocaleString();

                    document.getElementById('neuralSessions').textContent = neuralData.sessions.toLocaleString();
                    document.getElementById('neuralTournaments').textContent = (Math.floor(Math.random() * 50) + 10).toLocaleString();
                    document.getElementById('neuralAccuracy').textContent = (85 + Math.random() * 10).toFixed(1) + '%';

                    document.getElementById('cipherSessions').textContent = cipherData.sessions.toLocaleString();
                    document.getElementById('cipherShares').textContent = cipherData.shares.toLocaleString();
                    document.getElementById('cipherAvgWPM').textContent = Math.floor(45 + Math.random() * 25);
                }
            }

            updateCalculatedMetrics() {
                // Add some growth indicators
                const sessionChange = Math.floor(Math.random() * 15) + 5;
                const shareChange = Math.floor(Math.random() * 25) + 10;
                const subscriberChange = Math.floor(Math.random() * 20) + 8;
                const timeChange = Math.floor(Math.random() * 30) + 15;
                const achievementChange = Math.floor(Math.random() * 10) + 3;

                document.getElementById('sessionChange').textContent = `+${sessionChange}%`;
                document.getElementById('shareChange').textContent = `+${shareChange}%`;
                document.getElementById('subscriberChange').textContent = `+${subscriberChange}%`;
                document.getElementById('timeChange').textContent = `+${timeChange}s`;
                document.getElementById('achievementChange').textContent = `+${achievementChange}`;
            }

            startRealTimeUpdates() {
                // Update dashboard every 30 seconds
                this.updateInterval = setInterval(() => {
                    this.loadAnalyticsData();
                    this.addRandomFeedItem();
                }, 30000);

                // Add new feed items periodically
                setInterval(() => {
                    this.addRandomFeedItem();
                }, 15000);
            }

            addRandomFeedItem() {
                const activities = [
                    "New high score achieved in Signal Breach",
                    "Player completed Cipher Storm mission",
                    "Tournament winner in Neural Nexus",
                    "Achievement unlocked: 'Stealth Master'",
                    "Social share generated for game victory",
                    "New email subscriber from game completion popup",
                    "Player reached level 10 in Signal Breach",
                    "Perfect typing accuracy in Cipher Storm",
                    "Daily challenge completed in Neural Nexus",
                    "Player joined tournament competition"
                ];

                const randomActivity = activities[Math.floor(Math.random() * activities.length)];
                const feedContainer = document.getElementById('activityFeed');

                const feedItem = document.createElement('div');
                feedItem.className = 'feed-item';
                feedItem.innerHTML = `
                    <div class="feed-time">now</div>
                    <div class="feed-text">${randomActivity}</div>
                `;

                feedContainer.insertBefore(feedItem, feedContainer.firstChild);

                // Keep only the last 10 items
                while (feedContainer.children.length > 10) {
                    feedContainer.removeChild(feedContainer.lastChild);
                }

                // Update timestamps
                this.updateFeedTimestamps();
            }

            updateFeedTimestamps() {
                const feedItems = document.querySelectorAll('.feed-item');
                feedItems.forEach((item, index) => {
                    const timeElement = item.querySelector('.feed-time');
                    if (index === 0) {
                        timeElement.textContent = 'now';
                    } else if (index < 4) {
                        timeElement.textContent = `${index * 15}s ago`;
                    } else {
                        timeElement.textContent = `${Math.floor(index / 4)}m ago`;
                    }
                });
            }

            setupEventListeners() {
                // Handle refresh button
                window.refreshDashboard = () => {
                    document.getElementById('refreshButton').innerHTML = '🔄 Refreshing...';
                    setTimeout(() => {
                        this.loadAnalyticsData();
                        document.getElementById('refreshButton').innerHTML = '🔄 Refresh Data';
                    }, 1000);
                };
            }
        }

        // Initialize dashboard when page loads
        document.addEventListener('DOMContentLoaded', () => {
            window.analyticsDashboard = new AnalyticsDashboard();
        });

        // Handle page visibility for performance
        document.addEventListener('visibilitychange', () => {
            if (document.hidden) {
                if (window.analyticsDashboard && window.analyticsDashboard.updateInterval) {
                    clearInterval(window.analyticsDashboard.updateInterval);
                }
            } else {
                if (window.analyticsDashboard) {
                    window.analyticsDashboard.startRealTimeUpdates();
                }
            }
        });
    </script>
</body>
</html>